<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Azure PowerShell Strategy | AaRoney&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Azure PowerShell Strategy What are killer demos for Azure PowerShell?  How do we get there?  IntroductionAs the de facto standard for Azure automation scenarios, Azure PowerShell is ubiquitous in its">
<meta property="og:type" content="website">
<meta property="og:title" content="Azure PowerShell Strategy">
<meta property="og:url" content="http://blog.aaroney.com/Azure-PowerShell-Strategy/index.html">
<meta property="og:site_name" content="AaRoney's Blog">
<meta property="og:description" content="Azure PowerShell Strategy What are killer demos for Azure PowerShell?  How do we get there?  IntroductionAs the de facto standard for Azure automation scenarios, Azure PowerShell is ubiquitous in its">
<meta property="og:updated_time" content="2017-04-26T22:15:36.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Azure PowerShell Strategy">
<meta name="twitter:description" content="Azure PowerShell Strategy What are killer demos for Azure PowerShell?  How do we get there?  IntroductionAs the de facto standard for Azure automation scenarios, Azure PowerShell is ubiquitous in its">
<meta name="twitter:creator" content="@twitchax">
  
    <link rel="alternate" href="/atom.xml" title="AaRoney&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-91476707-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">AaRoney&#39;s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://blog.aaroney.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="page-undefined" class="article article-type-page" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/Azure-PowerShell-Strategy/index.html" class="article-date">
  <time datetime="2017-04-26T22:06:04.000Z" itemprop="datePublished">2017-04-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Azure PowerShell Strategy
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="azure-powershell-strategy"><a href="#Azure-PowerShell-Strategy" class="headerlink" title="Azure PowerShell Strategy"></a>Azure PowerShell Strategy</h1><blockquote>
<p>What are killer demos for Azure PowerShell?  How do we get there?</p>
</blockquote>
<h2 id="introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>As the de facto standard for Azure automation scenarios, Azure PowerShell is ubiquitous in its penetration of the cloud market.  This penetration means that all services across Azure must provide their users with workable Azure PowerShell cmdlets.  Historically, Azure PowerShell was largely owned by a single team; however, over time, the model for Azure PowerShell has become a “hub and spoke”, where the Azure PowerShell feature team provides repositories, guidelines, static analysis, reviews, build tools, and publish tools, and service teams own the design and functionality of their cmdlets.  This model functions well, and it is within this model that Azure PowerShell successfully cemented itself as the de facto standard for Azure automation scenarios.</p>
<p>Through the years of this “hub and spoke” model, Azure PowerShell became, for all intents and purposes, a “mature” product.  We say this because most of the practices, guidelines, and processes have been in place and well-oiled for quite some time.  Its maturity has brought high usage and a solid customer base.  However, this maturity and stable complacency comes at a cost to innovation investment.</p>
<p>Azure PowerShell has become somewhat of a “second thought” to service teams; however, the recent emphasis on Azure CLI 2.0 by management has led this team and others to re-evaluate the value of Azure PowerShell and its place in the each resource provider’s lifecycle.  It is with this renewed emphasis on developer tools (especially CLIs) in Azure that our team hopes to accomplish drastic improvements to the Azure PowerShell experience.  This document will view other cloud platforms and Azure CLI 2.0 itself as competitors in an effort to properly determine how Azure PowerShell stacks up with the innovations of other CLIs (both internal and external).</p>
<h2 id="compete"><a href="#Compete" class="headerlink" title="Compete"></a>Compete</h2><h3 id="azure-cli-20"><a href="#Azure-CLI-2-0" class="headerlink" title="Azure CLI 2.0"></a>Azure CLI 2.0</h3><p>Create VM.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ az vm create -n MyVm -g MyRg --image UbuntuLTS</div></pre></td></tr></table></figure>
<p>Create and deploy web app.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">az appservice web create -n MyWebApp -g MyRg -p MyWebAppPlan</div></pre></td></tr></table></figure>
<h3 id="heroku"><a href="#Heroku" class="headerlink" title="Heroku"></a>Heroku</h3><h3 id="zeit-now"><a href="#Zeit-Now" class="headerlink" title="Zeit Now"></a>Zeit Now</h3><h2 id="proposed-areas-of-improvement"><a href="#Proposed-Areas-of-Improvement" class="headerlink" title="Proposed Areas of Improvement"></a>Proposed Areas of Improvement</h2><p>These areas of improvements were selected based on key differentiators in competing products.  For example, Azure CLI 2.0 has made a point of basing commands on <em>scenarios</em> rather than <em>API surface area</em>; in addition, they have chosen a number of smart defaults which make “getting started” scenarios easier for end uers.  </p>
<h3 id="scenario-based-cmdlets"><a href="#Scenario-based-Cmdlets" class="headerlink" title="Scenario-based Cmdlets"></a>Scenario-based Cmdlets</h3><h3 id="smart-defaults"><a href="#Smart-Defaults" class="headerlink" title="Smart Defaults"></a>Smart Defaults</h3><h3 id="shorter-cmdlet-names-and-parameter-names"><a href="#Shorter-Cmdlet-Names-and-parameter-names" class="headerlink" title="Shorter Cmdlet Names (and parameter names?)"></a>Shorter Cmdlet Names (and parameter names?)</h3><h3 id="other"><a href="#Other" class="headerlink" title="Other"></a>Other</h3><p>Parameter types:</p>
<ul>
<li>Required: e.g., name.</li>
<li>Grey: e.g., resource group.</li>
<li>Optional: e.g., VM size.</li>
</ul>
<p>Other strategy ideas:</p>
<ul>
<li>Prompts for “grey” parameters.</li>
<li>Generate script cmdlets.</li>
<li>Better preview module support.</li>
<li>Push logic server side.</li>
<li>Rename “AzureRM” to something else (sort of goes with shorter cmdlet names)?</li>
</ul>
<h2 id="killer-demos"><a href="#Killer-Demos" class="headerlink" title="Killer Demos"></a>Killer Demos</h2><h3 id="create-vm"><a href="#Create-VM" class="headerlink" title="Create VM"></a>Create VM</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># In this sample, we show the fact that resource group is a "grey" parameter.</span></div><div class="line">PS&gt; Login-AzAccount</div><div class="line">PS&gt; New-AzVm -Name MyVm -Image UbuntuLTS</div><div class="line"></div><div class="line">A resource group was not specified: would you like to create MyVmRg12345 (Y/n)? Y</div><div class="line"></div><div class="line">Selected Defaults:</div><div class="line">  NIC: NicName.</div><div class="line">  NSG: NSGName.</div><div class="line">    NSG Rule: Open, RDP.</div><div class="line">    NSG Rule: Closed, all.</div><div class="line">  Public IP: <span class="number">21.32</span>.<span class="number">43.54</span></div><div class="line">  Size: Standard_DS1_v2</div><div class="line"></div><div class="line">Done!</div><div class="line">&#123;PSObject Output&#125;</div></pre></td></tr></table></figure>
<p>The user should be able to specify certain global defaults, e.g., resource group.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># In this sample, we show the user what smart defaults were selected.</span></div><div class="line">PS&gt; Login-Az</div><div class="line">PS&gt; New-AzRg MyRg | Set-AzDefaultRg</div><div class="line">PS&gt; New-AzVm -Name MyVm -Image UbuntuLTS</div><div class="line"></div><div class="line">Selected Defaults:</div><div class="line">  NIC: NicName.</div><div class="line">  NSG: NSGName.</div><div class="line">    NSG Rule: Open, RDP.</div><div class="line">    NSG Rule: Closed, all.</div><div class="line">  Public IP: <span class="number">21.32</span>.<span class="number">43.54</span></div><div class="line">  Size: Standard_DS1_v2</div><div class="line"></div><div class="line">Done!</div><div class="line">&#123;PSObject Output&#125;</div></pre></td></tr></table></figure>
<h3 id="create-and-deploy-web-app"><a href="#Create-and-Deploy-Web-App" class="headerlink" title="Create and Deploy Web App"></a>Create and Deploy Web App</h3><p>Smart defaults would be chosen.  For example, a “free” plan should be the default web app plan.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># In this sample, we show the fact that plan is a "grey" parameter.</span></div><div class="line">PS&gt; Login-Az</div><div class="line">PS&gt; New-AzRg MyRg | Set-AzDefaultRg</div><div class="line">PS&gt; New-AzWeb -Name MyWebApp</div><div class="line"></div><div class="line">A web app plan was not specified: would you like to create a free plan MyWebAppPlan (Y/n)? Y</div><div class="line"></div><div class="line">A git repository was detected, would you like to add this web app as a remote named <span class="string">"azure"</span> (Y/n)? Y</div><div class="line"></div><div class="line">Would you like to push this git repository to this web app (Y/n)? Y</div><div class="line"></div><div class="line">&#123;A bunch of git output...&#125;</div><div class="line"></div><div class="line">Done!</div></pre></td></tr></table></figure>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># In this sample, we show optional parameters which assist in a later deploy.</span></div><div class="line">PS&gt; Login-Az</div><div class="line">PS&gt; New-AzRg MyRg | Set-AzDefaultRg</div><div class="line">PS&gt; New-AzWeb -Name MyWebApp -Plan MyWebAppPlan -AddRemote -Deploy</div><div class="line"></div><div class="line">&#123;A bunch of git output...&#125;</div><div class="line"></div><div class="line">Done!</div></pre></td></tr></table></figure>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># This sample gets the deployment endpoint (not trivial currently) and deploys.</span></div><div class="line">PS&gt; Login-Az</div><div class="line">PS&gt; New-AzRg MyRg | Set-AzDefaultRg</div><div class="line">PS&gt; New-AzWeb -Name MyWebApp -Plan MyWebAppPlan</div><div class="line">PS&gt; <span class="variable">$endpoint</span> = Get-AzWebScm -Name MyWebApp</div><div class="line">PS&gt; git remote add azure <span class="variable">$endpoint</span></div><div class="line">PS&gt; git push azure master</div></pre></td></tr></table></figure>
<h3 id="storage-scenarios"><a href="#Storage-scenarios" class="headerlink" title="Storage scenarios?"></a>Storage scenarios?</h3><h3 id="sql-scenarios"><a href="#SQL-scenarios" class="headerlink" title="SQL scenarios?"></a>SQL scenarios?</h3><h3 id="network-scenarios"><a href="#Network-scenarios" class="headerlink" title="Network scenarios?"></a>Network scenarios?</h3><h3 id="acscontainer-scenarios"><a href="#ACS-Container-scenarios" class="headerlink" title="ACS/Container scenarios?"></a>ACS/Container scenarios?</h3><h3 id="function-app-awesomeness"><a href="#Function-app-awesomeness" class="headerlink" title="Function app awesomeness?"></a>Function app awesomeness?</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">PS&gt; Login-Az</div><div class="line">PS&gt; New-AzRg MyRg | Set-AzDefaultRg</div><div class="line">PS&gt; New-AzFunction -AppName MyFunctionApp -Source myFunction.js <span class="comment"># need endpoint?</span></div></pre></td></tr></table></figure>
<h1 id="conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.aaroney.com/Azure-PowerShell-Strategy/index.html" data-id="cj1zjk1rg00028c1202xcmhgb" class="article-share-link">Share</a>
      
        <a href="http://blog.aaroney.com/Azure-PowerShell-Strategy/index.html#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
  </div>
  
    
  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
</section>
        
          <aside id="sidebar">
  <img src="/images/self.jpg" width="200" style="margin-top: 80px;">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Built-with-Azure-Tools/">Built with Azure Tools</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/The-Supreme-Court-is-Usually-Badass/">The Supreme Court is Usually Badass</a><span class="category-list-count">6</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/azure/">azure</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/azure-cli/">azure-cli</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/csharp/">csharp</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/">docker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/documentdb/">documentdb</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dotnet/">dotnet</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/microsoft/">microsoft</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scotus/">scotus</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/supreme-court/">supreme court</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vscode/">vscode</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/azure/" style="font-size: 15px;">azure</a> <a href="/tags/azure-cli/" style="font-size: 15px;">azure-cli</a> <a href="/tags/csharp/" style="font-size: 15px;">csharp</a> <a href="/tags/docker/" style="font-size: 10px;">docker</a> <a href="/tags/documentdb/" style="font-size: 10px;">documentdb</a> <a href="/tags/dotnet/" style="font-size: 15px;">dotnet</a> <a href="/tags/microsoft/" style="font-size: 15px;">microsoft</a> <a href="/tags/scotus/" style="font-size: 20px;">scotus</a> <a href="/tags/supreme-court/" style="font-size: 20px;">supreme court</a> <a href="/tags/vscode/" style="font-size: 10px;">vscode</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/02/11/Add-DocumentDB-to-your-Web-App/">Add DocumentDB to your Web App</a>
          </li>
        
          <li>
            <a href="/2017/02/03/NET-Core-Web-App-in-Azure/">Build a .NET Core Web App in Azure</a>
          </li>
        
          <li>
            <a href="/2016/11/01/Issue-7-Burwell-v-Hobby-Lobby/">Issue 7: Burwell v. Hobby Lobby</a>
          </li>
        
          <li>
            <a href="/2016/10/01/Issue-6-United-States-v-Windsor/">Issue 6: United States v. Windsor</a>
          </li>
        
          <li>
            <a href="/2016/09/01/Issue-5-Fred-Korematsu-v-United-States/">Issue 5: Fred Korematsu v. United States</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Aaron Roney<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    
<script>
  var disqus_shortname = 'twitchax-blog';
  
  var disqus_url = 'http://blog.aaroney.com/Azure-PowerShell-Strategy/index.html';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>